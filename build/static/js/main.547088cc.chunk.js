(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{139:function(e,t,a){},154:function(e,t,a){},244:function(e,t){e.exports={sortItem:function(e,t){"name"===e?t.sort(function(e,t){return e.props.collection.name<t.props.collection.name?-1:e.props.collection.name>t.props.collection.name?1:void 0}):"value"===e?t.sort(function(e,t){return""===e.props.collection.value?1:""===t.props.collection.value?-1:e===t?0:e.props.collection.value<t.props.collection.value?-1:1}):"customInput1"===e?t.sort(function(e,t){return""===e.props.collection.customInput1?1:""===t.props.collection.customInput1?-1:e===t?0:e.props.collection.customInput1<t.props.collection.customInput1?-1:1}):"customInput2"===e?t.sort(function(e,t){return""===e.props.collection.customInput2?1:""===t.props.collection.customInput2?-1:e===t?0:e.props.collection.customInput2<t.props.collection.customInput2?-1:1}):"customInput3"===e&&t.sort(function(e,t){return""===e.props.collection.customInput3?1:""===t.props.collection.customInput3?-1:e===t?0:e.props.collection.customInput3<t.props.collection.customInput3?-1:1})}}},255:function(e,t,a){e.exports=a(460)},260:function(e,t,a){},388:function(e,t,a){},460:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(48),c=a.n(o),r=(a(260),a(15)),i=a(16),s=a(18),u=a(17),m=a(19),d=(a(154),a(34)),p=a(487),h=a(485),E=a(474),g=a(469),f=a(480),C=a(23),I=a.n(C),v=a(486),b=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={username:"",password:"",confirmPassword:"",formError:!1},a.handleChange=function(e){a.setState(Object(d.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){I.a.post("http://localhost:3030/user",{username:a.state.username,password:a.state.password}).then(function(e){e.data.error?(console.log("Signin Error"),a.setState({formError:!0})):(alert("You have registered as ".concat(a.state.username,"! Continue on to login!")),a.setState({redirect:"/",username:""}))}).catch(function(e){return console.log(e)}).then(a.setState({password:""}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,n=e.redirect,o=e.formError;return n?l.a.createElement(v.a,{to:"/"}):l.a.createElement(p.a,null,l.a.createElement(p.a.Row,null,l.a.createElement(p.a.Column,{width:6}),l.a.createElement(p.a.Column,{width:4},l.a.createElement(h.a,{as:"h1"},"Register"),l.a.createElement(E.a,{onSubmit:this.handleSubmit},l.a.createElement(E.a.Field,{error:o,value:t,name:"username",control:g.a,onChange:this.handleChange,label:"Username",type:"text"}),l.a.createElement(E.a.Field,{value:a,name:"password",control:g.a,onChange:this.handleChange,label:"Password",type:"password"}),l.a.createElement(f.a,{error:!o,color:"red",header:"An error has occured",content:"User already exists, please pick a differet name"}),l.a.createElement(E.a.Button,{primary:!0,type:"submit",content:"Submit"}))),l.a.createElement(p.a.Column,{width:6})))}}]),t}(n.Component),w=a(490),y=a(491),k=a(483),O=a(473),S=a(475),j=a(481),D=a(102),x=a(471),M=a(479),A=a(488),U=a(222),R=a(470),L=a(20),T=a.n(L),F=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={name:"",type:"",description:"",collectionExists:!1,enterName:!1,customNumber:0,customInput:[]},a.handleChange=function(e){a.setState(Object(d.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){var t,n=a.props.userData;if(n.collections.some(function(e){return e.name.toLowerCase()===a.state.name.toLowerCase()}))a.setState({collectionExists:!0});else if(a.state.name.length<3)a.setState({enterName:!0,collectionExists:!0});else{if(void 0===n.collections)t={name:a.state.name,type:a.state.type,description:a.state.description,collection:[],customInput1:a.state.customInput1?a.state.customInput1:null,customInput2:a.state.customInput2?a.state.customInput2:null,customInput3:a.state.customInput3?a.state.customInput3:null,id:T()()};else{var l={name:a.state.name,type:a.state.type,description:a.state.description,collection:[],customInput1:a.state.customInput1?a.state.customInput1:null,customInput2:a.state.customInput2?a.state.customInput2:null,customInput3:a.state.customInput3?a.state.customInput3:null,id:T()()};t=n.collections.concat(l)}n.collections=t,I()({method:"put",url:"http://localhost:3030/user/",withCredentials:!0,crossDomain:!0,data:{user:n}}),a.props.handleClose()}},a.handleAddItem=function(){var e=a.state,t=e.customNumber,n=e.customInput;a.setState({customNumber:t+1,customInput:n.concat(l.a.createElement(E.a.Field,{control:g.a,label:"Custom Parameter #".concat(t+1),placeholder:"Ie. quantity, price, team, etc.",key:T()(),name:"customInput".concat(t+1),onChange:a.handleChange}))})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.collectionExists,n=t.enterName,o=t.customNumber;return l.a.createElement(p.a,{stackable:!0},l.a.createElement(p.a.Row,null,l.a.createElement(p.a.Column,{width:3}),l.a.createElement(p.a.Column,{width:10},l.a.createElement(A.a,{raised:!0},l.a.createElement(x.a,{hidden:!0}),l.a.createElement(E.a,{onSubmit:this.handleSubmit},l.a.createElement(E.a.Field,{control:g.a,error:a,label:"Name of Collection",name:"name",onChange:this.handleChange}),l.a.createElement(U.a,{pointing:"above",onClick:function(){e.setState({collectionExists:!a})},content:n?"You forgot to name your collection.":"This collection already exists!",style:{display:a?"":"none"},color:"red"}),l.a.createElement(E.a.Field,{control:g.a,label:"Type of Collection",name:"type",placeholder:"music.. memorabilia.. shoes..",onChange:this.handleChange}),l.a.createElement(E.a.Field,{control:R.a,label:"Describe Your Collection!",name:"description",placeholder:"What kind of collection is it",onChange:this.handleChange}),this.state.customInput,l.a.createElement(U.a,{color:3===o?"red":"green",onClick:3!==o&&this.handleAddItem},l.a.createElement(D.a,{name:3===o?"times":"add"}),3===o?"Max Parameters Reached ":"Add Parameters"),l.a.createElement(E.a.Field,{control:j.a,content:"Make Collection"})),l.a.createElement(x.a,{hidden:!0}))),l.a.createElement(p.a.Column,{width:3})))}}]),t}(n.Component),P=a(472),H=(a(388),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={name:"",type:"",description:"",collectionExists:!1,enterName:!1,customInput:[]},a.handleChange=function(e){a.setState(Object(d.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){var t,n=a.props.user,l=n.collections.filter(function(e){return e.name.toLowerCase()!==a.props.name.toLowerCase()});l.some(function(e){return e.name.toLowerCase()===a.state.name.toLowerCase()})?a.setState({collectionExists:!0}):a.state.name.length<3?a.setState({enterName:!0,collectionExists:!0}):t={name:a.state.name,type:a.state.type,description:a.state.description,customInput1:a.state.customInput1?a.state.customInput1:null,customInput2:a.state.customInput2?a.state.customInput2:null,customInput3:a.state.customInput3?a.state.customInput3:null,collection:a.props.collection,id:a.props.id},n.collections=l.concat(t),I()({method:"put",url:"http://localhost:3030/user/",withCredentials:!0,crossDomain:!0,data:{user:n}}),a.props.handleClose(),a.props.modalClosed(),window.location.reload()},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({customInput1:this.props.customInput1,customInput2:this.props.customInput2,customInput3:this.props.customInput3,name:this.props.name,type:this.props.type,description:this.props.description},function(){var t=0;null!==e.props.customInput1&&(t=1),null!==e.props.customInput2&&(t=2),null!==e.props.customInput3&&(t=3),e.setState({customInput:[{num:1},{num:2},{num:3}],customNumber:t})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.collectionExists,n=t.enterName,o=t.name,c=t.type,r=t.description,i=t.customInput.map(function(t){return l.a.createElement(E.a.Field,{control:g.a,label:"customInput".concat(t.num),placeholder:"Leave empty to not use",name:"customInput".concat(t.num),onChange:e.handleChange,value:1===t.num?e.state.customInput1:[2===t.num?e.state.customInput2:e.state.customInput3]})});return l.a.createElement(p.a,{stackable:!0,centered:!0},l.a.createElement(p.a.Row,null,l.a.createElement(p.a.Column,{width:4}),l.a.createElement(p.a.Column,{width:10,textAlign:"center"},l.a.createElement(A.a,{raised:!0},l.a.createElement(x.a,{hidden:!0}),l.a.createElement(E.a,{onSubmit:this.handleSubmit},l.a.createElement(E.a.Field,{control:g.a,error:a,label:"Name of Collection",name:"name",value:o,onChange:this.handleChange}),l.a.createElement(U.a,{pointing:"above",onClick:function(){e.setState({collectionExists:!a})},content:n?"You forgot to name your collection.":"This collection already exists!",style:{display:a?"":"none"},color:"red"}),l.a.createElement(E.a.Field,{control:g.a,label:"Type of Collection",name:"type",value:c,placeholder:"music.. memorabilia.. shoes..",onChange:this.handleChange}),l.a.createElement(E.a.Field,{control:R.a,label:"Describe Your Collection!",name:"description",placeholder:"What kind of collection is it",onChange:this.handleChange,value:r}),i,l.a.createElement(E.a.Field,{control:j.a,content:"Edit Collection"})),l.a.createElement(x.a,{hidden:!0}))),l.a.createElement(p.a.Column,{width:3})))}}]),t}(n.Component)),N=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={modalOpen:!1},a.handleOpen=function(){a.setState({modalOpen:!0})},a.handleClose=function(){a.setState({modalOpen:!1})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.handleDelete,n=e.id,o=e.collection,c=o.name,r=o.type,i=o.description,s=e.collection,u=e.handleCollection,m=0===s.collection.length?"None":s.collection.length,d=0===r.length?"":l.a.createElement("p",null,l.a.createElement("b",null,"Type: "),r),p=0===i.length?"":l.a.createElement("p",null,l.a.createElement("b",null,"Description: "),i);return l.a.createElement(M.a,{id:"shadows",raised:!0,color:"brown"},l.a.createElement(P.a,{to:"/collection/".concat(c),onClick:function(){return u(n)}},l.a.createElement(M.a.Content,{textAlign:"center",as:"h3",header:c})),l.a.createElement(M.a.Content,null,l.a.createElement(M.a.Description,null,d,p)),l.a.createElement(M.a.Content,{extra:!0},l.a.createElement(U.a,null,l.a.createElement(D.a,{name:"clipboard list"}),"Items: ",m),l.a.createElement(j.a.Group,{floated:"right",size:"mini"},l.a.createElement(S.a,{trigger:l.a.createElement(j.a,{icon:!0,onClick:this.handleOpen},l.a.createElement(D.a,{name:"edit"}),"Edit"),style:{backgroundColor:"whitesmoke"},open:this.state.modalOpen,onClose:this.modalClose},l.a.createElement(S.a.Header,null,"Edit ".concat(c),l.a.createElement(j.a,{onClick:this.handleClose,floated:"right",icon:"times",content:"Close",size:"tiny",negative:!0})),l.a.createElement(S.a.Description,null,l.a.createElement(H,{user:t,name:c,type:r,description:i,customInput1:s.customInput1,customInput2:s.customInput2,customInput3:s.customInput3,collection:s.collection,id:n,handleClose:this.handleClose,modalClosed:this.props.modalClosed}))),l.a.createElement(j.a,{icon:!0,negative:!0,onClick:function(){return a(n)}},l.a.createElement(D.a,{name:"trash alternate"}),"Delete"))))}}]),t}(n.Component),W=a(476),V=a(477),z=a(478),G=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={value:"",name:"",description:"",itemExists:!1},a.handleRadioChange=function(e,t){var n=t.value;return a.setState({value:n})},a.handleChange=function(e){a.setState(Object(d.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){var t=a.state,n=t.value,l=t.name,o=t.description,c=t.customInput1,r=t.customInput2,i=t.customInput3,s=a.props.user,u=s.collections.find(function(e){return e.id===a.props.id}),m=s.collections.filter(function(e){return e.id!==a.props.id});u.collection.some(function(e){return e.name===l})?a.setState({itemExists:!0}):(a.setState({itemExists:!1}),u.collection?u.collection=u.collection.concat({name:l,value:n,description:o,id:T()(),customInput1:[a.props.collection.customInput1,c],customInput2:[a.props.collection.customInput2,r],customInput3:[a.props.collection.customInput3,i]}):u.collection=[{name:l,value:n,description:o,id:T()(),customInput1:[a.props.collection.customInput1,c],customInput2:[a.props.collection.customInput2,r],customInput3:[a.props.collection.customInput3,i]}],s.collections=m.concat(u),I()({method:"put",url:"http://localhost:3030/user/",withCredentials:!0,crossDomain:!0,data:{user:s,username:s.username}}),a.props.handleClose())},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.value,n=t.itemExists,o=t.name,c=this.props.collection,r=c.customInput1,i=c.customInput2,s=c.customInput3,u=r?l.a.createElement(E.a.Field,{control:g.a,error:n,label:r,name:"customInput1",onChange:this.handleChange}):"",m=i?l.a.createElement(E.a.Field,{control:g.a,error:n,label:i,name:"customInput2",onChange:this.handleChange}):"",d=s?l.a.createElement(E.a.Field,{control:g.a,label:s,name:"customInput3",onChange:this.handleChange}):"";return l.a.createElement(p.a,null,l.a.createElement(p.a.Row,null,l.a.createElement(p.a.Column,{width:3}),l.a.createElement(p.a.Column,{width:10},l.a.createElement(x.a,{hidden:!0}),l.a.createElement(E.a,{onSubmit:this.handleSubmit},l.a.createElement(E.a.Field,{control:g.a,error:n,label:"Name",name:"name",onChange:this.handleChange}),l.a.createElement(U.a,{pointing:"above",onClick:function(){e.setState({itemExists:!n})},content:"This collection already exists!",style:{display:n?"":"none"},color:"red"}),u,m,d,l.a.createElement(E.a.Group,{inline:!0},l.a.createElement("label",null,"Value"),l.a.createElement(E.a.Radio,{label:"Low",value:"Low",checked:"Low"===a,onChange:this.handleRadioChange}),l.a.createElement(E.a.Radio,{label:"Medium",value:"Medium",checked:"Medium"===a,onChange:this.handleRadioChange}),l.a.createElement(E.a.Radio,{label:"High",value:"High",checked:"High"===a,onChange:this.handleRadioChange})),l.a.createElement(E.a.Field,{control:R.a,label:"Describe Your Item!",name:"description",placeholder:"What kind of collection is it",onChange:this.handleChange}),l.a.createElement(E.a.Field,{control:j.a,content:"Make Item",style:{display:!o.length>0?"none":""}})),l.a.createElement(x.a,{hidden:!0})),l.a.createElement(p.a.Column,{width:3})))}}]),t}(n.Component),_=a(461),B=(a(139),a(53)),Y=a.n(B),q=a(76),J=function(){function e(t,a){Object(r.a)(this,e),this.webcamElement=t,this.canvasElement=a}return Object(i.a)(e,[{key:"adjustVideoSize",value:function(e,t){var a=e/t;e>=t?this.webcamElement.width=a*this.webcamElement.height:this.webcamElement.height=this.webcamElement.width/a}},{key:"setup",value:function(){var e=Object(q.a)(Y.a.mark(function e(){var t=this;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,a){void 0!==navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"constraint"}}).then(function(a){t.webcamElement.track=a.getTracks()[0],"srcObject"in t.webcamElement?t.webcamElement.srcObject=a:t.webcamElement.src=window.URL.createObjectURL(a),t.webcamElement.addEventListener("loadeddata",Object(q.a)(Y.a.mark(function a(){return Y.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.adjustVideoSize(t.webcamElement.videoWidth,t.webcamElement.videoHeight),e();case 2:case"end":return a.stop()}},a,this)})),!1)}):a()}));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"turnCameraOff",value:function(){this.webcamElement.track.stop(),console.log("hi")}},{key:"_drawImage",value:function(){var e=this.webcamElement.videoWidth,t=this.webcamElement.videoHeight,a=this.canvasElement.getContext("2d");return this.canvasElement.width=e,this.canvasElement.height=t,a.drawImage(this.webcamElement,0,0,e,t),{imageHeight:t,imageWidth:e}}},{key:"takeBlobPhoto",value:function(){var e=this,t=this._drawImage(),a=t.imageWidth,n=t.imageHeight;return new Promise(function(t,l){e.canvasElement.toBlob(function(e){t({blob:e,imageHeight:n,imageWidth:a})})})}},{key:"takeBase64Photo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"png",quality:1},t=e.type,a=e.quality,n=this._drawImage(),l=n.imageHeight,o=n.imageWidth;return{base64:this.canvasElement.toDataURL("image/"+t,a),imageHeight:l,imageWidth:o}}}]),e}(),$=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).captureImage=Object(q.a)(Y.a.mark(function t(){var a;return Y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=e.webcam.takeBase64Photo({type:"jpeg",quality:10}),e.setState({captured:!0,capturedImage:a.base64});case 2:case"end":return t.stop()}},t,this)})),e.discardImage=function(){e.setState({captured:!1,capturedImage:null})},e.uploadImage=function(){if(e.props.offline){var t="".concat(e.props.itemId),a=Math.random().toString(36).substr(2,5);localStorage.setItem("".concat(t).concat(a),e.state.capturedImage),alert("Image saved locally, it will be uploaded when you go online!"),e.discardImage()}else e.setState({uploading:!0}),I.a.post("https://api.cloudinary.com/v1_1/dxgxhh12i/image/upload",{file:e.state.capturedImage,upload_preset:"zj3nyyfu",api_key:673998966196246}).then(function(t){e.checkUploadStatus(t),e.props.handleAddImage(t.data.secure_url,e.props.collectionId,e.props.itemId)})},e.turnCameraOff=function(){e.webcam.turnCameraOff(),e.props.handleCameraClick()},e.findLocalItems=function(e){var t,a=[];for(t in localStorage)if(localStorage.hasOwnProperty(t)&&(t.match(e)||!e&&"string"===typeof t)){var n=localStorage.getItem(t);a.push({key:t,val:n})}return a},e.checkUploadStatus=function(t){e.setState({uploading:!1}),200===t.status?(alert("Image has been Uploaded!"),e.setState({imageUrl:t.data.secure_url},function(){return e.discardImage()})):alert("Sorry, we encountered an error uploading your image")},e.webcam=null,e.state={capturedImage:null,captured:!1,uploading:!1},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.canvasElement=document.createElement("canvas"),this.webcam=new J(document.getElementById("webcam"),this.canvasElement),this.webcam.setup().catch(function(){alert("Error getting access to your camera")})}},{key:"componentDidUpdate",value:function(e){this.props.offline||!0!==e.offline||this.batchUploads()}},{key:"render",value:function(){var e=this.state.capturedImage?l.a.createElement("img",{src:this.state.capturedImage,alt:"captured",width:"350"}):l.a.createElement("span",null),t=this.state.captured?l.a.createElement("div",null,l.a.createElement(j.a,{onClick:this.discardImage},"Delete Photo"),l.a.createElement(j.a,{onClick:this.uploadImage},"Upload Photo")):l.a.createElement("div",null,l.a.createElement(j.a,{onClick:this.captureImage},"Take Picture"),l.a.createElement(j.a,{onClick:this.turnCameraOff},"Turn Camera Off")),a=this.state.uploading?l.a.createElement(k.a,{active:!0},l.a.createElement(O.a,null)):l.a.createElement("span",null);return l.a.createElement(p.a,{stackable:!0},l.a.createElement(p.a.Row,null,l.a.createElement(p.a.Column,{width:3}),l.a.createElement(p.a.Column,{width:10},a,l.a.createElement("video",{autoPlay:!0,playsInline:!0,muted:!0,id:"webcam",width:"100%",height:"200"}),l.a.createElement("br",null),l.a.createElement("div",{className:"imageCanvas"},e),t),l.a.createElement(p.a.Column,{width:3})))}}]),t}(n.Component),K=function(e){var t=e.img;return l.a.createElement("img",{id:"responsive",alt:"/images/sample.png",src:t})},Q=a(109),X=(a(140),function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={value:"",name:"",description:"",customInput1:"",customInput2:"",customInput3:"",itemExists:!1},a.handleRadioChange=function(e,t){var n=t.value;return a.setState({value:n})},a.handleChange=function(e){a.setState(Object(d.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){var t=a.state,n=t.value,l=t.name,o=t.description,c=t.customInput1,r=t.customInput2,i=t.customInput3,s=t.id,u=a.props,m=u.user,d=u.collectionId,p=m.collections.find(function(e){return e.id===d}),h=m.collections.filter(function(e){return e.id!==d}),E=p.collection.find(function(e){return e.id===s}),g=p.collection.filter(function(e){return e.id!==s});g.some(function(e){return e.name===l})?a.setState({itemExists:!0}):(a.setState({itemExists:!1}),E=[{name:l,value:n,description:o,id:T()(),customInput1:[a.props.csInput1,c],customInput2:[a.props.csInput2,r],customInput3:[a.props.csInput3,i],image:a.props.image}]),g.length>0?p.collection=E.concat(g):p.collection=E,h.length>0?m.collections=[p].concat(h):m.collections=[p],I()({method:"put",url:"http://localhost:3030/user/",withCredentials:!0,crossDomain:!0,data:{user:m}}),a.props.editModalClose()},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.name,a=e.description,n=e.customInput1,l=e.customInput2,o=e.customInput3,c=e.id;this.setState({name:t,description:a,customInput1:n[1],customInput2:l[1],customInput3:o[1],id:c,value:this.props.value})}},{key:"render",value:function(){var e=this,t=this.state,a=t.value,n=t.itemExists,o=t.name,c=t.description,r=t.customInput1,i=t.customInput2,s=t.customInput3,u=this.props,m=u.csInput1,d=u.csInput2,h=u.csInput3,f=null!==m?l.a.createElement(E.a.Field,{control:g.a,error:n,label:m,name:"customInput1",onChange:this.handleChange,value:r}):"",C=null!==d?l.a.createElement(E.a.Field,{control:g.a,error:n,label:d,name:"customInput2",onChange:this.handleChange,value:i}):"",I=null!==h?l.a.createElement(E.a.Field,{control:g.a,label:h,name:"customInput3",value:s,onChange:this.handleChange}):"";return l.a.createElement(p.a,null,l.a.createElement(p.a.Row,null,l.a.createElement(p.a.Column,{width:3}),l.a.createElement(p.a.Column,{width:10},l.a.createElement(x.a,{hidden:!0}),l.a.createElement(E.a,{onSubmit:this.handleSubmit},l.a.createElement(E.a.Field,{control:g.a,error:n,label:"Name",name:"name",onChange:this.handleChange,value:o}),l.a.createElement(U.a,{pointing:"above",onClick:function(){e.setState({itemExists:!n})},content:"This collection already exists!",style:{display:n?"":"none"},color:"red"}),f,C,I,l.a.createElement(E.a.Group,{inline:!0},l.a.createElement("label",null,"Value"),l.a.createElement(E.a.Radio,{label:"Low",value:"Low",checked:"Low"===a,onChange:this.handleRadioChange}),l.a.createElement(E.a.Radio,{label:"Medium",value:"Medium",checked:"Medium"===a,onChange:this.handleRadioChange}),l.a.createElement(E.a.Radio,{label:"High",value:"High",checked:"High"===a,onChange:this.handleRadioChange})),l.a.createElement(E.a.Field,{control:R.a,label:"Describe Your Item!",name:"description",placeholder:"What kind of collection is it",onChange:this.handleChange,value:c}),l.a.createElement(E.a.Field,{control:j.a,content:"Edit Item",style:{display:!o.length>0?"none":""}})),l.a.createElement(x.a,{hidden:!0})),l.a.createElement(p.a.Column,{width:3})))}}]),t}(n.Component)),Z=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={cameraOn:!1,editModal:!1},a.handleCameraClick=function(){a.setState({cameraOn:!a.state.cameraOn})},a.editModalOpen=function(){a.setState({editModal:!0})},a.editModalClose=function(){a.setState({editModal:!1},function(){a.props.modalClosed()})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.collection,a=t.name,n=t.description,o=t.value,c=t.id,r=t.customInput1,i=t.customInput2,s=t.customInput3,u=t.image,m=e.user,d=e.userId,p=e.handleItemDelete,h=e.collectionId,E=e.csInput1,g=e.csInput2,f=e.csInput3,C=n?l.a.createElement("p",null,l.a.createElement("b",null,"Description: "),n):"",I=o?l.a.createElement("p",null,l.a.createElement("b",null,"Value: "),o):"",v=null!==r[0]?l.a.createElement("p",null,l.a.createElement("b",null,E),": ",r[1]):"",b=null!==i[0]?l.a.createElement("p",null,l.a.createElement("b",null,g),": ",i[1]):"",w=null!==s[0]?l.a.createElement("p",null,l.a.createElement("b",null,f),": ",s[1]):"",y=void 0===u?l.a.createElement(_.a,{src:"/images/sample.png"}):[1===u.length?l.a.createElement(_.a,{centered:!0,rounded:!0,id:"shadow-image",src:u[0]}):l.a.createElement(Q.Carousel,{emulateTouch:!0,showStatus:!0,showThumbs:!1,swipeable:!0,width:"10em"},u.map(function(e,t){return l.a.createElement(K,{key:T()(),img:e})}))],k=this.state.cameraOn?l.a.createElement($,{handleCameraClick:this.handleCameraClick,userId:d,collectionId:h,itemId:c,handleAddImage:this.props.handleAddImage}):"",O={display:this.state.cameraOn?"none":"block"},x={backgroundColor:"whitesmoke"};return l.a.createElement(W.a,{id:"shadow-item"},l.a.createElement(W.a.Image,{size:"small"},y),l.a.createElement(W.a.Content,{id:"betterMargins"},l.a.createElement(U.a.Group,{id:"labelPosition"},l.a.createElement(S.a,{style:x,trigger:l.a.createElement(D.a.Group,{size:"large"},l.a.createElement(D.a,{name:"picture"}),l.a.createElement(D.a,{corner:!0,name:"add"}))},l.a.createElement(S.a.Header,null,"Take a picture of the item!"),l.a.createElement(S.a.Content,null,l.a.createElement(j.a,{style:O,icon:!0,labelPosition:"left",onClick:this.handleCameraClick},"Turn Camera On",l.a.createElement(D.a,{name:"camera",color:"green"})),k)),l.a.createElement(S.a,{style:x,trigger:l.a.createElement(U.a,{size:"mini",as:"a",onClick:this.editModalOpen},l.a.createElement(D.a,{name:"edit outline"})),open:this.state.editModal,onClose:this.editModalClose},l.a.createElement(S.a.Header,{content:"Edit ".concat(a)}),l.a.createElement(S.a.Description,null,l.a.createElement(X,{name:a,value:o,description:n,id:c,customInput1:r,customInput2:i,customInput3:s,image:u,collectionId:h,csInput1:E,csInput2:g,csInput3:f,editModalClose:this.editModalClose,user:m}))),l.a.createElement(U.a,{size:"mini",as:"a",onClick:function(){return p(c,h)}},l.a.createElement(D.a,{name:"times",color:"red"}))),l.a.createElement(W.a.Header,{as:"h3"},a),l.a.createElement(W.a.Description,null,I,v,b,w,C)))}}]),t}(n.Component),ee=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={cameraOn:!1,editModal:!1},a.handleCameraClick=function(){a.setState({cameraOn:!a.state.cameraOn})},a.editModalOpen=function(){a.setState({editModal:!0})},a.editModalClose=function(){a.setState({editModal:!1},function(){a.props.modalClosed()})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.collection,a=t.name,n=t.description,o=t.value,c=t.id,r=t.customInput1,i=t.customInput2,s=t.customInput3,u=t.image,m=e.user,d=e.userId,p=e.handleItemDelete,h=e.collectionId,E=e.csInput1,g=e.csInput2,f=e.csInput3,C=n?l.a.createElement("p",null,l.a.createElement("b",null,"Description: "),n):"",I=o?l.a.createElement("p",null,l.a.createElement("b",null,"Value: "),o):"",v=null!==r[0]?l.a.createElement("p",null,l.a.createElement("b",null,E),": ",r[1]):"",b=null!==i[0]?l.a.createElement("p",null,l.a.createElement("b",null,g),": ",i[1]):"",w=null!==s[0]?l.a.createElement("p",null,l.a.createElement("b",null,f),": ",s[1]):"",y=void 0===u?l.a.createElement(_.a,{src:"/images/sample.png"}):[1===u.length?l.a.createElement(_.a,{centered:!0,rounded:!0,id:"shadow-image",src:u[0]}):l.a.createElement(Q.Carousel,{emulateTouch:!0,showStatus:!0,showThumbs:!1,swipeable:!0,width:"10em"},u.map(function(e,t){return l.a.createElement(K,{key:T()(),img:e})}))],k=this.state.cameraOn?l.a.createElement($,{handleCameraClick:this.handleCameraClick,userId:d,collectionId:h,itemId:c,handleAddImage:this.props.handleAddImage}):"",O={display:this.state.cameraOn?"none":"block"},x={backgroundColor:"whitesmoke"};return l.a.createElement(M.a,{id:"shadow-item"},y,l.a.createElement(M.a.Content,{id:"betterMargins"},l.a.createElement(M.a.Meta,null),l.a.createElement(M.a.Header,{as:"h3"},a),l.a.createElement(M.a.Description,null,I,v,b,w,C)),l.a.createElement(M.a.Content,{extra:!0},l.a.createElement(U.a.Group,{id:"labelPosition"},l.a.createElement(S.a,{style:x,trigger:l.a.createElement(D.a.Group,{size:"large"},l.a.createElement(D.a,{name:"picture"}),l.a.createElement(D.a,{corner:!0,name:"add"}))},l.a.createElement(S.a.Header,null,"Take a picture of the item!"),l.a.createElement(S.a.Content,null,l.a.createElement(j.a,{style:O,icon:!0,labelPosition:"left",onClick:this.handleCameraClick},"Turn Camera On",l.a.createElement(D.a,{name:"camera",color:"green"})),k)),l.a.createElement(S.a,{style:x,trigger:l.a.createElement(U.a,{size:"mini",as:"a",onClick:this.editModalOpen},l.a.createElement(D.a,{name:"edit outline"})),open:this.state.editModal,onClose:this.editModalClose},l.a.createElement(S.a.Header,{content:"Edit ".concat(a)}),l.a.createElement(S.a.Description,null,l.a.createElement(X,{name:a,value:o,description:n,id:c,customInput1:r,customInput2:i,customInput3:s,image:u,collectionId:h,csInput1:E,csInput2:g,csInput3:f,editModalClose:this.editModalClose,user:m}))),l.a.createElement(U.a,{size:"mini",as:"a",onClick:function(){return p(c,h)}},l.a.createElement(D.a,{name:"times",color:"red"})))))}}]),t}(n.Component),te=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={cameraOn:!1},a.handleCameraClick=function(){a.setState({cameraOn:!a.state.cameraOn})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.collection,a=t.name,n=t.description,o=t.id,c=e.userId,r=e.handleItemDelete,i=e.collectionId,s=n?l.a.createElement("p",null,l.a.createElement("b",null,"Description: "),n):"",u=this.state.cameraOn?l.a.createElement($,{handleCameraClick:this.handleCameraClick,userId:c,collectionId:i,itemId:o,handleAddImage:this.props.handleAddImage}):"",m={display:this.state.cameraOn?"none":"block"};return l.a.createElement(V.a.Item,null,l.a.createElement(V.a.Content,{id:"betterMargins"},l.a.createElement(U.a.Group,{id:"labelPosition"},l.a.createElement(S.a,{style:{backgroundColor:"red"},trigger:l.a.createElement(D.a.Group,{size:"large"},l.a.createElement(D.a,{name:"picture"}),l.a.createElement(D.a,{corner:!0,name:"add"}))},l.a.createElement(S.a.Header,null,"Take a picture of the item!"),l.a.createElement(S.a.Content,null,l.a.createElement(j.a,{style:m,icon:!0,labelPosition:"left",onClick:this.handleCameraClick},"Turn Camera On",l.a.createElement(D.a,{name:"camera",color:"green"})),u)),l.a.createElement(U.a,{size:"mini",as:"a",onClick:function(){return r(o,i)}},l.a.createElement(D.a,{name:"times",color:"red"}))),l.a.createElement(V.a.Header,{as:"h5"},a),l.a.createElement(V.a.Description,null,s)))}}]),t}(n.Component),ae=a(244),ne=a.n(ae),le=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={modalOpen:!1,selectedValue:"name",view:"item"},a.handleOpen=function(){return a.setState({modalOpen:!0})},a.handleView=function(e,t){var n=t.value;return a.setState({view:n})},a.handleClose=function(){return a.setState({modalOpen:!1})},a.changeSelect=function(e,t){var n=t.value;return a.setState({selectedValue:n})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.collection,o=n.collection,c=n.id,r=n.name,i=n.customInput1,s=n.customInput2,u=n.customInput3,m=a.user,d=a.handleItemDelete,E=a.handleAddImage,g=this.state,f=g.modalOpen,C=g.selectedValue,I=g.view;if(void 0===o){return l.a.createElement(h.a,{as:"h2",style:{marginTop:"5em"},content:"<==== Click on a collection!",textAlign:"center"})}e="item"===I?o.map(function(e){return l.a.createElement(Z,{userId:m._id,handleItemDelete:d,handleAddImage:E,collection:e,collectionId:c,key:e.id,csInput1:i,csInput2:s,csInput3:u,user:m,modalClosed:t.props.modalClosed})}):"card"===I?o.map(function(e){return l.a.createElement(ee,{userId:m._id,handleItemDelete:d,handleAddImage:E,collection:e,collectionId:c,key:e.id,csInput1:i,csInput2:s,csInput3:u,user:m,modalClosed:t.props.modalClosed})}):o.map(function(e){return l.a.createElement(te,{userId:m._id,handleItemDelete:d,handleAddImage:E,collection:e,collectionId:c,key:e.id})});var v=[];v=null===i?[{key:T()(),value:"name",name:"name",text:"Name"},{key:T()(),value:"value",name:"name",text:"Value"}]:null===s?[{key:T()(),value:"name",name:"name",text:"Name"},{key:T()(),value:"value",name:"name",text:"Value"},{key:T()(),value:"customInput1",name:"customInput1",text:i}]:null===u?[{key:T()(),value:"name",name:"name",text:"Name"},{key:T()(),value:"value",name:"name",text:"Value"},{key:T()(),value:"customInput1",name:"customInput1",text:i},{key:T()(),value:"customInput2",name:"customInput2",text:s}]:[{key:T()(),value:"name",name:"name",text:"Name"},{key:T()(),value:"value",name:"name",text:"Value"},{key:T()(),value:"customInput1",name:"customInput1",text:i},{key:T()(),value:"customInput2",name:"customInput2",text:s},{key:T()(),value:"customInput3",name:"customInput3",text:u}],ne.a.sortItem(C,e);var b="item"===I?l.a.createElement(W.a.Group,{divided:!0},e):["card"===I?l.a.createElement(M.a.Group,null,e):l.a.createElement(V.a,{divided:!0,relaxed:!0},e)];return l.a.createElement("div",null,l.a.createElement(x.a,{hidden:!0}),l.a.createElement(p.a,{stackable:!0,celled:"internally"},l.a.createElement(p.a.Row,null,l.a.createElement(p.a.Column,{width:12},l.a.createElement(h.a,{as:"h2",textAlign:"left"},r),l.a.createElement(S.a,{style:{backgroundColor:"whitesmoke"},open:f,onClose:this.handleClose,trigger:l.a.createElement(j.a,{icon:!0,onClick:this.handleOpen},l.a.createElement(D.a,{name:"add"}),"Item")},l.a.createElement(S.a.Header,null,"Add an Item to ",r),l.a.createElement(S.a.Description,null,l.a.createElement(G,{handleClose:this.handleClose,user:m,id:c,collection:this.props.collection}))),l.a.createElement(U.a,null,l.a.createElement(D.a,{name:"sort"}),"Sort By:"),l.a.createElement(z.a,{options:v,onChange:this.changeSelect,selection:!0}),l.a.createElement(z.a,{text:"View",style:{float:"right"}},l.a.createElement(z.a.Menu,null,l.a.createElement(z.a.Item,{onClick:this.handleView,icon:"th list",text:"Item",value:"item"}),l.a.createElement(z.a.Item,{onClick:this.handleView,icon:"th",text:"Card",value:"card"}),l.a.createElement(z.a.Item,{onClick:this.handleView,icon:"list",text:"List",value:"list"}))),l.a.createElement(x.a,null),b),l.a.createElement(p.a.Column,{width:4}))))}}]),t}(n.Component),oe=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={loader:!0,clickedItem:[],createModalOpen:!1,update:0},a.CreateModalClose=function(){return a.setState({createModalOpen:!1})},a.CreateModalOpen=function(){return a.setState({createModalOpen:!0})},a.handleDelete=function(e){var t=a.state.userData;t.collections=t.collections.filter(function(t){return t.id!==e}),I()({method:"put",url:"http://localhost:3030/user/",withCredentials:!0,crossDomain:!0,data:{user:t}}).then(a.setState({userData:t},function(){window.location.reload()}))},a.handleItemDelete=function(e,t){var n=a.state.userData,l=n.collections.filter(function(e){return e.id!==t}),o=a.state.userData.collections.find(function(e){return e.id===t}),c=o.collection.filter(function(t){return t.id!==e});o.collection=c,l=l.concat(o),n.collections=l,I()({method:"put",url:"http://localhost:3030/user/",withCredentials:!0,crossDomain:!0,data:{user:n}}).then(a.setState({userData:n}))},a.modalClosed=function(){console.log("updated"),a.setState({update:a.state.update+1})},a.handleCollection=function(e){a.setState({clickedItem:a.state.userData.collections.find(function(t){return t.id===e})})},a.handleAddImage=function(e,t,n){var l=a.state.userData,o=l.collections.filter(function(e){return e.id!==t}),c=l.collections.find(function(e){return e.id===t}),r=c.collection.find(function(e){return e.id===n}),i=c.collection.filter(function(e){return e.id!==n});void 0!==r.image?r.image=r.image.concat([e]):r.image=[e],i=i.concat(r),c.collection=i,o=o.concat(c),l.collections=o,I()({method:"put",url:"http://localhost:3030/user/",withCredentials:!0,crossDomain:!0,data:{user:l}}).then(a.setState({userData:l}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;I()({method:"get",url:"http://localhost:3030/user/",withCredentials:!0,crossDomain:!0}).then(function(t){e.setState({userData:t.data.user},function(){e.setState({loader:!1})})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.userData,n=t.createModalOpen,o=t.clickedItem,c=a?a.collections.map(function(t){return l.a.createElement(N,{user:a,key:t.id,handleDelete:e.handleDelete,id:t.id,collection:t,handleCollection:e.handleCollection,modalClosed:e.modalClosed})}):"";return this.state.loader?l.a.createElement(k.a,{active:!0},l.a.createElement(O.a,null,"Loading")):l.a.createElement("div",null,l.a.createElement(p.a,{stackable:!0,centered:!0},l.a.createElement(p.a.Row,null,l.a.createElement(p.a.Column,{width:1}),l.a.createElement(p.a.Column,{width:4},l.a.createElement(h.a,{as:"h2",color:"brown",textAlign:"center",content:"Your Collections"}),l.a.createElement(S.a,{style:{backgroundColor:"whitesmoke"},open:n,onClose:this.CreateModalClose,trigger:l.a.createElement(j.a,{positive:!0,icon:!0,labelPosition:"left",onClick:this.CreateModalOpen},l.a.createElement(D.a,{name:"file alternate"}),"Create Collection")},l.a.createElement(S.a.Header,null,"Build Your Collection"),l.a.createElement(S.a.Description,null,l.a.createElement(F,{userData:a,handleClose:this.CreateModalClose}))),l.a.createElement(x.a,null),l.a.createElement(M.a.Group,null,c)),l.a.createElement(p.a.Column,{width:11},l.a.createElement(y.a,{path:"/collection/:collectionId",render:function(t){return l.a.createElement(le,Object.assign({},t,{collection:o,user:a,handleItemDelete:e.handleItemDelete,handleAddImage:e.handleAddImage,modalClosed:e.modalClosed}))}})))))}}]),t}(n.Component),ce=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l))))._isMounted=!1,a.state={username:"",password:"",redirectTo:null,formError:!1},a.handleChange=function(e){a.setState(Object(d.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),I()({method:"post",url:"http://localhost:3030/user/login",withCredentials:!0,crossDomain:!0,data:{username:a.state.username,password:a.state.password}}).then(function(e){a.props.updateUser({loggedIn:!0,username:e.data.username}),a.setState({redirectTo:"/collection"})}).catch(function(e){console.log("login error: "),console.log(e),a.setState({formError:!0})})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.state,t=e.redirectTo,a=e.username,n=e.password,o=e.formError;return t?l.a.createElement(v.a,{to:{pathname:t}}):l.a.createElement(p.a,null,l.a.createElement(p.a.Row,null,l.a.createElement(p.a.Column,{width:6}),l.a.createElement(p.a.Column,{width:4},l.a.createElement(h.a,{as:"h2"},"Login"),l.a.createElement(E.a,{onSubmit:this.handleSubmit},l.a.createElement(E.a.Field,{error:o,value:a,name:"username",control:g.a,onChange:this.handleChange,label:"Username",type:"text"}),l.a.createElement(E.a.Field,{error:o,value:n,name:"password",control:g.a,onChange:this.handleChange,label:"Password",type:"password"}),l.a.createElement(E.a.Button,{primary:!0,type:"submit",content:"Submit"}),l.a.createElement(f.a,{error:!o,color:"red",header:"An error has occured",content:"Something went wrong, please try again"}))),l.a.createElement(p.a.Column,{width:6})))}}]),t}(n.Component),re=a(482),ie=function(e){var t=e.logout,a=e.loggedIn,n=e.username,o=null===n?"":l.a.createElement(h.a,{as:"h2",inverted:!0,content:"".concat(n,"'s Collection")});return l.a.createElement(A.a,{inverted:!0},a?l.a.createElement(re.a,{inverted:!0,pointing:!0,secondary:!0,stackable:!0},l.a.createElement(re.a.Item,null,l.a.createElement(_.a,{src:"/images/logo.png"})),l.a.createElement(re.a.Item,null,o),l.a.createElement(re.a.Item,{as:"label",name:"logout",onClick:t,position:"right"},l.a.createElement(P.a,{to:"/"},"Logout"))):l.a.createElement("div",null,l.a.createElement(re.a,{inverted:!0,pointing:!0,secondary:!0},l.a.createElement(re.a.Item,null,l.a.createElement(_.a,{src:"/images/logo.png"})),l.a.createElement(re.a.Item,{name:"login",position:"right"},l.a.createElement(P.a,{to:"/"},"Login")),l.a.createElement(P.a,{to:"/signup"},l.a.createElement(re.a.Item,{name:"signup"})))))},se=function(e){function t(){var e,a;Object(r.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={loggedIn:!0,username:null},a.updateUser=function(e){a.setState(e)},a.logout=function(e){e.preventDefault(),I()({method:"post",url:"http://localhost:3030/user/logout",withCredentials:!0,crossDomain:!0}).then(function(e){console.log(e.data),200===e.status&&a.updateUser({loggedIn:!1,username:null})}).catch(function(e){console.log("Logout error:",e)})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("online",function(){e.setState({offline:!1})}),window.addEventListener("offline",function(){e.setState({offline:!0})}),this.getUser()}},{key:"componentDidUpdate",value:function(){var e=!navigator.onLine;this.state.offline!==e&&this.setState({offline:e})}},{key:"getUser",value:function(){var e=this;I()({method:"get",url:"http://localhost:3030/user/",withCredentials:!0,crossDomain:!0}).then(function(t){t.data.user?(console.log("Get User: There is a user saved in the server session: "),e.setState({loggedIn:!0,username:t.data.user.username})):(console.log("Get user: no user"),e.setState({loggedIn:!1,username:null}))})}},{key:"render",value:function(){var e=this,t=this.state,a=t.loggedIn,n=t.username;return l.a.createElement("div",{className:"App"},l.a.createElement(ie,{loggedIn:a,username:n,logout:this.logout}),l.a.createElement(w.a,null,l.a.createElement(y.a,{path:"/collection",render:function(t){return a?l.a.createElement(oe,Object.assign({},t,{updateUser:e.updateUser})):l.a.createElement(v.a,{to:"/"})}}),l.a.createElement(y.a,{path:"/",exact:!0,render:function(){return a?l.a.createElement(v.a,{to:"/collection"}):l.a.createElement(ce,{updateUser:e.updateUser})}}),l.a.createElement(y.a,{path:"/signup",render:function(){return a?l.a.createElement(v.a,{to:"/collection"}):l.a.createElement(b,{updateUser:e.updateUser})}})))}}]),t}(n.Component),ue=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function me(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var de=a(484);a(457);c.a.render(l.a.createElement(de.a,null,l.a.createElement(se,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");ue?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):me(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):me(t,e)})}}()}},[[255,2,1]]]);
//# sourceMappingURL=main.547088cc.chunk.js.map